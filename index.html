<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Small module for logging in browser.</title>
		<meta name="description" content="Small module for logging in browser." />
		<meta name="keywords" content="js, amd, log, logging, commonjs, github" />
		<meta name="author" content="I.Kozharov" />
		<link rel="shortcut icon" href="../favicon.ico">
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/demo.css" />
		<link rel="stylesheet" type="text/css" href="css/component.css" />
		<!--[if IE]>
  		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
	</head>
	<body>
		<div id="container" class="container intro-effect-fadeout">
			<!-- Top Navigation -->
			<div class="codrops-top clearfix">
				<a class="codrops-icon codrops-icon-prev" href="https://github.com/ikozharov/log"><small>View project on</small> GitHub</a>
				<span class="right">
					<a class="codrops-icon codrops-icon-drop" href="#"><span>Open Console</span></a>
				</span>
			</div>
			<header class="header">
				<div class="bg-img"><img src="img/2.jpg" alt="Background Image" /></div>
				<div class="title">
					<h1>Small module for logging in browser.</h1>
					<p class="subline">version 0.1.0</p>
					<p> by <strong>Igor Kozharov</strong> </p>
				</div>
			</header>
			<button class="trigger" data-info="Click to see the description"><span>Trigger</span></button>
			<article class="content">
				<div>
					<p>
						Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam bibendum lacinia lobortis. Duis mattis pellentesque leo, condimentum iaculis ex aliquam sit amet. Sed sit amet ultrices ipsum. Nulla ac nibh at nisi tincidunt mollis. Cras condimentum nisl mi, id tempor lorem interdum nec. Nam pellentesque sed turpis at porta. Etiam venenatis elit ac quam rutrum blandit. Vestibulum est risus, fermentum sed tincidunt nec, commodo non tortor.
					</p>

					<h3>Usage</h3>
					<p>
						Praesent mollis augue orci, vel porta urna efficitur ut. Duis magna ex, cursus a scelerisque vehicula, facilisis at massa. Sed efficitur, mauris nec molestie vehicula, quam neque rutrum neque, id efficitur orci sapien sit amet neque. Fusce fringilla ligula et tincidunt malesuada. Aliquam eget porta nisl, in suscipit arcu. Nunc tempor egestas lectus nec scelerisque. Aliquam erat volutpat. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Vivamus auctor tristique lacinia. Suspendisse interdum erat vestibulum venenatis suscipit.
					</p>

					<p>
						Vestibulum hendrerit auctor magna, sed euismod nisl condimentum at. Mauris aliquam sem non massa fringilla, eu ullamcorper enim dapibus. Integer at velit id nunc faucibus sollicitudin. Praesent non nunc pretium, vestibulum mi ut, suscipit urna. Curabitur laoreet quis est vel feugiat. Aliquam convallis finibus tellus, id elementum nulla ultrices eget. Cras iaculis accumsan sem, a interdum ligula condimentum lobortis. Maecenas ac sem tortor. Aliquam suscipit fringilla velit sed convallis. Fusce nec gravida sapien. Cras justo lacus, semper a nibh a, feugiat faucibus augue. Proin pellentesque egestas aliquam. Vestibulum mattis tincidunt augue vitae faucibus.
					</p>

					<p>
						Integer eget blandit nunc. Suspendisse consectetur lacus quam. Pellentesque in elit sed dolor pharetra viverra. Duis vestibulum placerat elit, non dapibus ante ullamcorper in. Cras in odio in nisl tincidunt egestas ut a ipsum. Quisque id dolor bibendum, sagittis ex in, scelerisque risus. Suspendisse non tempor mauris. Interdum et malesuada fames ac ante ipsum primis in faucibus. Suspendisse potenti. Nam porttitor orci neque, at ornare mauris dapibus non. Maecenas in consectetur purus, interdum ultricies enim. Donec vitae sapien quis sapien facilisis tincidunt. Morbi non nibh vulputate, vehicula justo at, volutpat quam. Donec fermentum ultrices dolor vitae malesuada.
					</p>

					<p>
						Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Cras quis mollis ex. Integer accumsan eros ut imperdiet aliquet. Praesent sollicitudin suscipit metus id varius. Vestibulum venenatis metus lectus, non sollicitudin arcu accumsan ac. Proin non finibus nibh. Fusce hendrerit, nisi ut imperdiet tempus, elit magna vehicula felis, a euismod ligula quam at libero. Vivamus non lectus quis ligula dignissim maximus at id ante.
					</p>

					<p>
						Proin ex sem, dapibus eget dictum vel, congue ac nibh. Donec ultricies efficitur ante vitae aliquet. Ut eget aliquet augue, sed tempor neque. Nullam efficitur hendrerit enim, vel euismod ligula laoreet nec. Nam lacinia risus sit amet nisl feugiat, et dapibus elit scelerisque. Maecenas in scelerisque nibh. Sed pharetra urna id facilisis egestas. Nulla id tortor eleifend, rhoncus augue eget, tincidunt lorem. Morbi id enim eget diam dapibus bibendum. Mauris ut dolor diam. Integer faucibus magna eu sem venenatis, vel fringilla orci gravida. Suspendisse id elementum justo, sed suscipit urna. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum vel nisi lorem. In ultricies sapien ut pellentesque volutpat.
					</p>

					<p>
						Nullam ligula lectus, pretium eu mauris sit amet, scelerisque tempus ex. Nam imperdiet, sem ut finibus ullamcorper, purus libero suscipit turpis, quis semper dui lorem non turpis. Fusce dictum ante vitae orci dapibus consequat. Aliquam et ex at quam condimentum mollis interdum vel lacus. Aenean nec sem tellus. Donec ac elit vestibulum, malesuada lorem a, convallis tortor. Aenean a imperdiet enim.
					</p>
				</div>
			</article>
		</div><!-- /container -->
		<script src="js/classie.js"></script>
		<script>
			(function() {

				// detect if IE : from http://stackoverflow.com/a/16657946
				var ie = (function(){
					var undef,rv = -1; // Return value assumes failure.
					var ua = window.navigator.userAgent;
					var msie = ua.indexOf('MSIE ');
					var trident = ua.indexOf('Trident/');

					if (msie > 0) {
						// IE 10 or older => return version number
						rv = parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);
					} else if (trident > 0) {
						// IE 11 (or newer) => return version number
						var rvNum = ua.indexOf('rv:');
						rv = parseInt(ua.substring(rvNum + 3, ua.indexOf('.', rvNum)), 10);
					}

					return ((rv > -1) ? rv : undef);
				}());


				// disable/enable scroll (mousewheel and keys) from http://stackoverflow.com/a/4770179
				// left: 37, up: 38, right: 39, down: 40,
				// spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36
				var keys = [32, 37, 38, 39, 40], wheelIter = 0;

				function preventDefault(e) {
					e = e || window.event;
					if (e.preventDefault)
					e.preventDefault();
					e.returnValue = false;
				}

				function keydown(e) {
					for (var i = keys.length; i--;) {
						if (e.keyCode === keys[i]) {
							preventDefault(e);
							return;
						}
					}
				}

				function touchmove(e) {
					preventDefault(e);
				}

				function wheel(e) {
					// for IE
					//if( ie ) {
						//preventDefault(e);
					//}
				}

				function disable_scroll() {
					window.onmousewheel = document.onmousewheel = wheel;
					document.onkeydown = keydown;
					document.body.ontouchmove = touchmove;
				}

				function enable_scroll() {
					window.onmousewheel = document.onmousewheel = document.onkeydown = document.body.ontouchmove = null;
				}

				var docElem = window.document.documentElement,
					scrollVal,
					isRevealed,
					noscroll,
					isAnimating,
					container = document.getElementById( 'container' ),
					trigger = container.querySelector( 'button.trigger' );

				function scrollY() {
					return window.pageYOffset || docElem.scrollTop;
				}

				function scrollPage() {
					scrollVal = scrollY();

					if( noscroll && !ie ) {
						if( scrollVal < 0 ) return false;
						// keep it that way
						window.scrollTo( 0, 0 );
					}

					if( classie.has( container, 'notrans' ) ) {
						classie.remove( container, 'notrans' );
						return false;
					}

					if( isAnimating ) {
						return false;
					}

					if( scrollVal <= 0 && isRevealed ) {
						toggle(0);
					}
					else if( scrollVal > 0 && !isRevealed ){
						toggle(1);
					}
				}

				function toggle( reveal ) {
					isAnimating = true;

					if( reveal ) {
						classie.add( container, 'modify' );
					}
					else {
						noscroll = true;
						disable_scroll();
						classie.remove( container, 'modify' );
					}

					// simulating the end of the transition:
					setTimeout( function() {
						isRevealed = !isRevealed;
						isAnimating = false;
						if( reveal ) {
							noscroll = false;
							enable_scroll();
						}
					}, 600 );
				}

				// refreshing the page...
				var pageScroll = scrollY();
				noscroll = pageScroll === 0;

				disable_scroll();

				if( pageScroll ) {
					isRevealed = true;
					classie.add( container, 'notrans' );
					classie.add( container, 'modify' );
				}

				window.addEventListener( 'scroll', scrollPage );
				trigger.addEventListener( 'click', function() { toggle( 'reveal' ); } );
			})();
		</script>
	</body>
</html>
